@if (!locationService.hasSelectedLocation()) {
  <!-- Selection Mode -->
  <div class="bg-[#ffffff] border border-[#d3d3d3] rounded-lg p-6 shadow-sm">
    <div class="flex items-center gap-3 mb-4">
      <div class="w-12 h-12 bg-[#7dd13d] rounded-lg flex items-center justify-center">
        <svg class="w-7 h-7 text-[#ffffff]" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"/>
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"/>
        </svg>
      </div>
      <div>
        <h2 class="text-xl font-bold text-[#121212]">Select Your Location</h2>
        <p class="text-sm text-[#606a7a]">Choose the location you're working at</p>
      </div>
    </div>

    @if (locationService.locations().length === 0) {
      <div class="text-center py-4">
        <p class="text-[#606a7a]">Loading locations...</p>
      </div>
    } @else {
      <select 
        (change)="selectLocation($event)"
        class="w-full px-4 py-3 border border-[#d3d3d3] rounded-lg focus:outline-none focus:ring-2 focus:ring-[#7dd13d] focus:border-transparent text-[#121212] bg-[#ffffff]"
      >
        <option value="">Choose a location...</option>
        @for (location of locationService.locations(); track location.id) {
          <option [value]="location.id">{{ location.name }}</option>
        }
      </select>
    }
  </div>
} @else {
  <!-- Selected Mode -->
  <div class="bg-[#e4f9d2] border border-[#7dd13d] rounded-lg p-4 flex items-center justify-between">
    <div class="flex items-center gap-3">
      <div class="w-10 h-10 bg-[#7dd13d] rounded-lg flex items-center justify-center">
        <svg class="w-6 h-6 text-[#ffffff]" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"/>
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"/>
        </svg>
      </div>
      <div>
        <p class="text-sm text-[#3f7c2e] font-medium">Working at</p>
        <p class="text-lg font-bold text-[#121212]">{{ locationService.selectedLocation()?.name }}</p>
      </div>
    </div>
    <button
      (click)="changeLocation()"
      class="px-4 py-2 bg-[#ffffff] border border-[#7dd13d] text-[#3f7c2e] rounded-lg hover:bg-[#7dd13d] hover:text-[#ffffff] transition-colors font-medium"
    >
      Change
    </button>
  </div>
}
